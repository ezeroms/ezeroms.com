{{ define "section_header" }}
    {{ $componentsPages := where .Site.RegularPages "Section" "ui-design-guidebook" }}
    {{ $componentsPages = where $componentsPages "Params.tags" "intersect" (slice "components") }}
    {{ $firstComponent := "" }}
    {{ if gt (len $componentsPages) 0 }}
        {{ $sortedComponents := sort $componentsPages "Params.order" "asc" }}
        {{ $firstComponent = index $sortedComponents 0 }}
    {{ end }}

    {{ $patternsPages := where .Site.RegularPages "Section" "ui-design-guidebook" }}
    {{ $patternsPages = where $patternsPages "Params.tags" "intersect" (slice "patterns") }}
    {{ $firstPattern := "" }}
    {{ if gt (len $patternsPages) 0 }}
        {{ $sortedPatterns := sort $patternsPages "Params.order" "asc" }}
        {{ $firstPattern = index $sortedPatterns 0 }}
    {{ end }}

    {{ $principlesPages := where .Site.RegularPages "Section" "ui-design-guidebook" }}
    {{ $principlesPages = where $principlesPages "Params.tags" "intersect" (slice "principles") }}
    {{ $firstPrinciple := "" }}
    {{ if gt (len $principlesPages) 0 }}
        {{ $sortedPrinciples := sort $principlesPages "Params.order" "asc" }}
        {{ $firstPrinciple = index $sortedPrinciples 0 }}
    {{ end }}

    {{ $currentCategory := "" }}
    {{ $isReadmePage := false }}
    {{ if .Params.ui_design_guidebook_tag }}
        {{ range .Params.ui_design_guidebook_tag }}
            {{ if eq . "components" }}
                {{ $currentCategory = "components" }}
            {{ else if eq . "patterns" }}
                {{ $currentCategory = "patterns" }}
            {{ else if eq . "principles" }}
                {{ $currentCategory = "principles" }}
            {{ else if eq . "readme" }}
                {{ $isReadmePage = true }}
            {{ end }}
        {{ end }}
    {{ end }}

    <div class="column-header">
        <nav class="column-header__nav" id="ui-design-guidebook-category-filters">
            <a href="/ui-design-guidebook/" class="column-header__tab{{ if or (eq .RelPermalink "/ui-design-guidebook/") $isReadmePage }} active{{ end }}">Readme</a>
            <a href="/ui-design-guidebook/components/" class="column-header__tab{{ if eq $currentCategory "components" }} active{{ end }}">Components</a>
            <a href="/ui-design-guidebook/patterns/" class="column-header__tab{{ if eq $currentCategory "patterns" }} active{{ end }}">Patterns</a>
            <a href="/ui-design-guidebook/principles/" class="column-header__tab{{ if eq $currentCategory "principles" }} active{{ end }}">Principles</a>
        </nav>
    </div>
{{ end }}

{{ define "main" }}
    {{ partial "notification.html" . }}

    <section class="page-section">
        <div class="page-section__content">
            <ul class="article-container">
                <article class="article-item">
                    <h1>{{ .Title }}</h1>
                    {{ if .Params.description }}
                        <p class="article-item__description">{{ .Params.description }}</p>
                    {{ end }}
                    {{ .Content | replaceRE "<img ([^>]+)>" "<div class=\"image-wrapper\"><img $1 loading=\"lazy\"></div>" | safeHTML }}
                </article>
            </ul>
        </div>
    </section>
{{ end }}

{{ define "secondary" }}
{{ end }}

