# レスポンシブデザイン仕様書

## 概要

このドキュメントは、ezeroms.comサイトのレスポンシブデザイン（スマホ版・タブレット版）の仕様を定義します。デバイス幅に応じたブレークポイントと、各デバイスでの表示仕様を説明します。

## 更新履歴

- 2025-01-XX: 初版作成

---

## ブレークポイント仕様

### デバイス区分

サイトは以下の3つのデバイス区分で表示を切り替えます：

| デバイス区分 | 画面幅 | 説明 |
|------------|--------|------|
| **デスクトップ** | 1080px以上 | 通常のPC表示 |
| **タブレット** | 768px - 1079px | タブレット端末向け表示 |
| **スマホ（SP）** | 767px以下 | スマートフォン向け表示 |

### ブレークポイントの定義

```css
/* デスクトップ: 1080px以上 */
/* デフォルトのスタイル（メディアクエリなし） */

/* タブレット: 768px - 1079px */
@media (max-width: 1079px) {
  /* タブレット向けスタイル */
}

/* スマホ: 767px以下 */
@media (max-width: 767px) {
  /* スマホ向けスタイル */
}
```

### ブレークポイントの選択理由

- **1080px**: 一般的なデスクトップの最小幅として設定。この幅を下回ると、サイドバーや3カラムレイアウトが窮屈になるため、タブレット版に切り替える。
- **768px**: 一般的なタブレットとスマートフォンの境界線。この幅を下回ると、タブレット向けレイアウトでも読みづらくなるため、スマホ版に切り替える。

---

## デザイン方針

### 基本方針

1. **タブレット版とスマホ版は基本的に同じ構成**
   - レイアウト構造は同じ
   - 主な違いはフォントサイズのみ

2. **レイアウトの簡素化**
   - デスクトップ版の複雑なグリッドレイアウトを、シンプルな1カラムまたは2カラムに変更
   - サイドバーは非表示または折りたたみ可能にする

3. **フォントサイズの調整**
   - タブレット版: デスクトップ版よりやや小さめ
   - スマホ版: タブレット版よりさらに小さめ

---

## 各デバイスでの表示仕様

### デスクトップ（1080px以上）

- **レイアウト**: 3カラム（サイドバー + メインコンテンツ + セカンダリーナビ）
- **サイドバー**: 常に表示（幅: 240px）
- **フォントサイズ**: 基準サイズ（`--font-size-base: 1rem` = 16px）
- **パディング**: 標準（`--spacing-4xl: 40px`など）

### タブレット（768px - 1079px）

- **レイアウト**: 1カラムまたは2カラム（サイドバーは非表示または折りたたみ）
- **サイドバー**: 非表示、またはハンバーガーメニューで表示/非表示を切り替え
- **フォントサイズ**: デスクトップ版の約90-95%（例: `--font-size-base: 0.9375rem` = 15px）
- **パディング**: デスクトップ版よりやや小さめ（`--spacing-3xl: 32px`など）

### スマホ（767px以下）

- **レイアウト**: 1カラム（サイドバーは非表示、ハンバーガーメニューで表示）
- **サイドバー**: 非表示、またはハンバーガーメニューで表示/非表示を切り替え
- **フォントサイズ**: タブレット版の約90-95%（例: `--font-size-base: 0.875rem` = 14px）
- **パディング**: タブレット版よりさらに小さめ（`--spacing-2xl: 24px`など）

---

## 実装方針

### CSS変数の活用

レスポンシブデザインでは、CSS変数（カスタムプロパティ）を活用して、デバイスごとにフォントサイズやスペーシングを調整します。

```css
:root {
  /* デスクトップ版（デフォルト） */
  --font-size-base: 1rem;        /* 16px */
  --spacing-content: 40px;
}

@media (max-width: 1079px) {
  :root {
    /* タブレット版 */
    --font-size-base: 0.9375rem; /* 15px */
    --spacing-content: 32px;
  }
}

@media (max-width: 767px) {
  :root {
    /* スマホ版 */
    --font-size-base: 0.875rem;  /* 14px */
    --spacing-content: 24px;
  }
}
```

### レイアウトの変更

各レイアウトパターンごとに、タブレット/スマホ版での表示を調整します：

#### パターン1: 中央配置型（Home/Index）

- **デスクトップ**: 中央配置、標準パディング
- **タブレット/スマホ**: 中央配置を維持、パディングを縮小

#### パターン2: TOC型（About/The shoulders of Giants）

- **デスクトップ**: グリッドレイアウト（TOC 240px + コンテンツ 768px）
- **タブレット/スマホ**: TOCを非表示または折りたたみ、コンテンツを全幅表示

#### パターン3: 3カラム型（Tweet/Diary/Column）

- **デスクトップ**: グリッドレイアウト（コンテンツ 768px + セカンダリーナビ）
- **タブレット/スマホ**: セカンダリーナビを非表示または折りたたみ、コンテンツを全幅表示

#### パターン4: ヘッダー+TOC型（UI Design Book）

- **デスクトップ**: グリッドレイアウト（TOC 240px + コンテンツ 768px）
- **タブレット/スマホ**: TOCを非表示または折りたたみ、コンテンツを全幅表示

---

## サイドバーの対応

### デスクトップ（1080px以上）

- サイドバーは常に表示
- 幅: 240px（`--sidebar-width`）
- 最小化機能は維持

### タブレット/スマホ（1079px以下）

- サイドバーは初期状態で非表示
- ハンバーガーメニューボタンで表示/非表示を切り替え
- 表示時はオーバーレイ（ドロワー）形式で表示
- または、固定サイドバーとして表示（画面幅に応じて調整）

---

## フォントサイズの調整例

### 基準フォントサイズ

| デバイス | `--font-size-base` | 実際のサイズ |
|---------|-------------------|------------|
| デスクトップ | `1rem` | 16px |
| タブレット | `0.9375rem` | 15px |
| スマホ | `0.875rem` | 14px |

### その他のフォントサイズ

他のフォントサイズも同様に調整します：

```css
/* デスクトップ */
--font-size-xs: 0.75rem;    /* 12px */
--font-size-sm: 0.875rem;   /* 14px */
--font-size-lg: 1.125rem;   /* 18px */
--font-size-xl: 1.25rem;    /* 20px */

/* タブレット（約94%） */
--font-size-xs: 0.703125rem;    /* 11.25px → 11px */
--font-size-sm: 0.8125rem;     /* 13px */
--font-size-lg: 1.0546875rem;   /* 16.875px → 17px */
--font-size-xl: 1.171875rem;    /* 18.75px → 19px */

/* スマホ（約93%） */
--font-size-xs: 0.65625rem;     /* 10.5px → 11px */
--font-size-sm: 0.765625rem;    /* 12.25px → 12px */
--font-size-lg: 0.984375rem;    /* 15.75px → 16px */
--font-size-xl: 1.09375rem;     /* 17.5px → 18px */
```

---

## スペーシングの調整例

### パディング・マージン

| デバイス | コンテンツパディング | セクションパディング |
|---------|-------------------|-------------------|
| デスクトップ | `40px` (`--spacing-4xl`) | `80px` |
| タブレット | `32px` (`--spacing-3xl`) | `64px` |
| スマホ | `24px` (`--spacing-2xl`) | `48px` |

---

## 実装チェックリスト

### 共通コンポーネント

- [ ] サイドバー（`site-shell.css`）
  - [ ] タブレット/スマホで非表示またはドロワー形式
  - [ ] ハンバーガーメニューボタンの実装

- [ ] ヘッダー（`header.css`）
  - [ ] タブレット/スマホでの表示調整
  - [ ] フォントサイズの調整

- [ ] メインセクション（`main-section.css`）
  - [ ] グリッドレイアウトの1カラム化
  - [ ] パディングの調整

### ページ固有のスタイル

- [ ] トップページ（`index.css`）
- [ ] Aboutページ（`about.css`）
- [ ] Columnページ（`column.css`）
- [ ] Workページ（`works.css`）
- [ ] Diaryページ（`diary.css`）
- [ ] Tweetページ（`tweet.css`）
- [ ] Chronicleページ（`chronicle.css`）
- [ ] UI Design Guidebookページ（`ui-design-guidebook.css`）

### 記事コンポーネント

- [ ] 記事コンテナ（`article-container.css`）
- [ ] 記事アイテム（`article-item.css`）
- [ ] 記事見出し（`article-item-heading.css`）
- [ ] コードブロック（`codeblock.css`）

### その他のコンポーネント

- [ ] タグ（`tag.css`）
- [ ] ページネーション（`pagination-buttons.css`）
- [ ] 日付選択ナビゲーション（`date-selector-nav.css`）
- [ ] 通知（`notification.css`）

---

## テスト方法

### ブラウザの開発者ツールを使用

1. Chrome DevTools / Firefox DevTools を開く
2. デバイスモードを有効化
3. 以下の幅でテスト：
   - 1080px（デスクトップ）
   - 1079px（タブレット境界）
   - 768px（タブレット）
   - 767px（スマホ境界）
   - 375px（iPhone SE相当）
   - 414px（iPhone 11 Pro Max相当）

### 実機テスト

- iPad（768px - 1024px）
- iPhone（375px - 414px）
- Android端末（360px - 412px）

---

## 注意事項

1. **モバイルファースト vs デスクトップファースト**
   - 現在の実装はデスクトップファースト（`max-width`を使用）
   - 必要に応じてモバイルファースト（`min-width`を使用）に変更を検討

2. **タッチターゲットサイズ**
   - スマホ版では、タッチターゲットを最低44px×44pxに保つ

3. **パフォーマンス**
   - 画像の遅延読み込み（`lazy-load.js`）は維持
   - 不要なアニメーションは無効化

4. **アクセシビリティ**
   - フォントサイズを小さくしても、最低16pxを維持（ブラウザのズーム機能を考慮）
   - または、ユーザーがブラウザでズームできることを前提とする

---

## 参考資料

- [MDN: Using media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries)
- [CSS-Tricks: A Complete Guide to CSS Media Queries](https://css-tricks.com/a-complete-guide-to-css-media-queries/)
- [Google: Responsive Web Design Basics](https://developers.google.com/web/fundamentals/design-and-ux/responsive)

